{"version":3,"file":"donar.js","names":["Conekta","setPublicKey","conektaSuccessResponseHandler","token","$","val","id","console","log","jsPay","conektaErrorResponseHandler","response","alert","message_to_purchaser","params","serialize","ajax","type","url","data","success","jsClean","prop","document","ready","submit","e","preventDefault","form","Token","create"],"sources":["donar.js"],"mappings":"AAAAA,QAAQC,aAAa,+BAErB,IAAIC,8BAAgC,SAAUC,GAC1CC,EAAE,mBAAmBC,IAAIF,EAAMG,IAC/BC,QAAQC,IAAIL,EAAMG,IAClBG,OAEJ,EACIC,4BAA8B,SAAUC,GAC7BP,EAAE,cACbQ,MAAMD,EAASE,qBACnB,EASA,SAASJ,QACL,IAAIK,EAASV,EAAE,cAAcW,YAG7BX,EAAEY,KAAK,CACHC,KAAM,OACNC,IAJM,UAKNC,KAAML,EACNM,QAAS,SAAUD,GACH,GAARA,GACAP,MAAM,gCACNS,WAEAT,MAAMO,EAEd,GAER,CAEA,SAASE,UACLjB,EAAE,iBAAiBkB,KAAK,QAAS,IACjClB,EAAE,mBAAmBkB,KAAK,QAAS,GACvC,CA9BAlB,EAAEmB,UAAUC,OAAM,WACdpB,EAAE,cAAcqB,QAAO,SAAUC,GAC7BA,EAAEC,iBACF,IAAIC,EAAOxB,EAAE,cACbJ,QAAQ6B,MAAMC,OAAOF,EAAM1B,8BAA+BQ,4BAC9D,GACJ","ignoreList":[],"sourcesContent":["Conekta.setPublicKey(\"key_Mj1QTbILuGHuZqm70znFahZ\"); // Llave publica de conekta\r\n\r\nvar conektaSuccessResponseHandler = function (token) {\r\n    $('#conektaTokenId').val(token.id);\r\n    console.log(token.id);\r\n    jsPay();\r\n    \r\n}\r\nvar conektaErrorResponseHandler = function (response) {\r\n    var form = $('#card-form');\r\n    alert(response.message_to_purchaser);\r\n}\r\n$(document).ready(function () {\r\n    $('#card-form').submit(function (e) {\r\n        e.preventDefault();\r\n        var form = $('#card-form');\r\n        Conekta.Token.create(form, conektaSuccessResponseHandler, conektaErrorResponseHandler);\r\n    });\r\n});\r\n\r\nfunction jsPay() {\r\n    let params = $('#card-form').serialize();\r\n    let url = 'pay.php';\r\n\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: url,\r\n        data: params,\r\n        success: function (data) {\r\n            if (data == 1) {\r\n                alert('Tu pago se realizó con éxito');\r\n                jsClean();\r\n            } else {\r\n                alert(data);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nfunction jsClean() {\r\n    $('.form-control').prop('value', '');\r\n    $('#conektaTokenId').prop('value', '');\r\n}"]}